CC=gcc
CXX=g++
CFLAGS=-Wall -O2 -funroll-loops -finline-functions -march=i586 -mcpu=i686 $(CYGWIN)
CXXFLAGS=$(CFLAGS)
@HEADER@

.PHONY: all clean

fastutils.o: fastutils.xs
	$(XSUBPP) -C++ -typemap "$(TYPEMAP)" fastutils.xs > fastutils.cpp
	$(CXX) -I. $(CFLAGS) fastutils.cpp -c $(PERLCFLAGS) -o fastutils.o -I$(COREDIR)

clean:
	rm -f fastutils.o fastutils.cpp Makefile.real
